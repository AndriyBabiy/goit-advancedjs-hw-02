{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector('.form');\n\nconst { delay, step, amount } = form.elements;\n\nform.addEventListener('submit', handlerSubmit);\n\nfunction handlerSubmit(evt) {\n  evt.preventDefault();\n\n  for (let i = 0; i < amount.value; i++) {\n    createPromise(\n      i + 1,\n      step.value * i + Number(delay.value)\n    )\n    .then(({ position, delay }) =>\n      iziToastPopup(\n        `✅ Fulfilled promise ${position} in ${delay}ms`,\n        'success'\n        )\n    )\n    .catch(({ position, delay }) =>\n      iziToastPopup(\n        `❌ Rejected promise ${position} in ${delay}ms`,\n        'fail'\n      )\n    );\n  }\n\n  form.reset();\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((res, rej) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        res({\n          position,\n          delay,\n        });\n      } else {\n        rej({\n          position,\n          delay,\n        });\n      }\n    }, delay)\n  })\n}\n\nfunction iziToastPopup(text, type) {\n  let color = type === \"success\" ? 'green' : 'red';\n\n  return iziToast.show({\n      message: `${text}`,\n      color: `${color}`,\n      position: 'topRight',\n    })\n}\n"],"names":["form","delay","step","amount","handlerSubmit","evt","i","createPromise","position","iziToastPopup","res","rej","shouldResolve","text","type","color","iziToast"],"mappings":"wIAGA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAErC,CAAE,MAAAC,EAAO,KAAAC,EAAM,OAAAC,CAAM,EAAKH,EAAK,SAErCA,EAAK,iBAAiB,SAAUI,CAAa,EAE7C,SAASA,EAAcC,EAAK,CAC1BA,EAAI,eAAc,EAElB,QAASC,EAAI,EAAGA,EAAIH,EAAO,MAAOG,IAChCC,EACED,EAAI,EACJJ,EAAK,MAAQI,EAAI,OAAOL,EAAM,KAAK,CACpC,EACA,KAAK,CAAC,CAAE,SAAAO,EAAU,MAAAP,CAAO,IACxBQ,EACE,uBAAuBD,QAAeP,MACtC,SACC,CACJ,EACA,MAAM,CAAC,CAAE,SAAAO,EAAU,MAAAP,CAAO,IACzBQ,EACE,sBAAsBD,QAAeP,MACrC,MACD,CACP,EAGED,EAAK,MAAK,CACZ,CAEA,SAASO,EAAcC,EAAUP,EAAO,CACtC,OAAO,IAAI,QAAQ,CAACS,EAAKC,IAAQ,CAC/B,MAAMC,EAAgB,KAAK,OAAM,EAAK,GAEtC,WAAW,IAAM,CACXA,EACFF,EAAI,CACF,SAAAF,EACA,MAAAP,CACV,CAAS,EAEDU,EAAI,CACF,SAAAH,EACA,MAAAP,CACV,CAAS,CAEJ,EAAEA,CAAK,CACZ,CAAG,CACH,CAEA,SAASQ,EAAcI,EAAMC,EAAM,CACjC,IAAIC,EAAQD,IAAS,UAAY,QAAU,MAE3C,OAAOE,EAAS,KAAK,CACjB,QAAS,GAAGH,IACZ,MAAO,GAAGE,IACV,SAAU,UAChB,CAAK,CACL"}