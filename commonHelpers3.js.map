{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst input = {\n  firstDelay: document.querySelector('[name=\"delay\"]'),\n  delayStep: document.querySelector('input[name=\"step\"]'),\n  amount: document.querySelector('input[name=\"amount\"]'),\n}\nconst button = document.querySelector('button[type=\"submit\"]');\n\nbutton.addEventListener('click', handlerClick);\n\nfunction handlerClick(evt) {\n  evt.preventDefault();\n\n  setTimeout(() => {\n    for (let i = 1; i <= input.amount.value; i++) {\n      createPromise(i, input.delayStep.value * i)\n        .then(value => iziToastPopup(value, 'success'))\n        .catch(reason => iziToastPopup(reason, 'fail'));\n    }\n\n  }, input.firstDelay.value );\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((res, rej) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        res(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      } else {\n        rej(`❌ Rejected promise ${position} in ${delay}ms`);\n      }\n    }, delay)\n  })\n}\n\nfunction iziToastPopup(text, type) {\n  let color = type === \"success\" ? 'green' : 'red';\n\n  return iziToast.show({\n      message: `${text}`,\n      color: `${color}`,\n      position: 'topRight',\n    })\n}\n"],"names":["input","button","handlerClick","evt","i","createPromise","value","iziToastPopup","reason","position","delay","res","rej","shouldResolve","text","type","color","iziToast"],"mappings":"wIAGA,MAAMA,EAAQ,CACZ,WAAY,SAAS,cAAc,gBAAgB,EACnD,UAAW,SAAS,cAAc,oBAAoB,EACtD,OAAQ,SAAS,cAAc,sBAAsB,CACvD,EACMC,EAAS,SAAS,cAAc,uBAAuB,EAE7DA,EAAO,iBAAiB,QAASC,CAAY,EAE7C,SAASA,EAAaC,EAAK,CACzBA,EAAI,eAAc,EAElB,WAAW,IAAM,CACf,QAASC,EAAI,EAAGA,GAAKJ,EAAM,OAAO,MAAOI,IACvCC,EAAcD,EAAGJ,EAAM,UAAU,MAAQI,CAAC,EACvC,KAAKE,GAASC,EAAcD,EAAO,SAAS,CAAC,EAC7C,MAAME,GAAUD,EAAcC,EAAQ,MAAM,CAAC,CAGtD,EAAKR,EAAM,WAAW,MACtB,CAEA,SAASK,EAAcI,EAAUC,EAAO,CACtC,OAAO,IAAI,QAAQ,CAACC,EAAKC,IAAQ,CAC/B,MAAMC,EAAgB,KAAK,OAAM,EAAK,GAEtC,WAAW,IAAM,CACXA,EACFF,EAAI,uBAAuBF,QAAeC,KAAS,EAEnDE,EAAI,sBAAsBH,QAAeC,KAAS,CAErD,EAAEA,CAAK,CACZ,CAAG,CACH,CAEA,SAASH,EAAcO,EAAMC,EAAM,CACjC,IAAIC,EAAQD,IAAS,UAAY,QAAU,MAE3C,OAAOE,EAAS,KAAK,CACjB,QAAS,GAAGH,IACZ,MAAO,GAAGE,IACV,SAAU,UAChB,CAAK,CACL"}